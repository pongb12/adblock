[General]
# DNS Settings
dns-server = https://dns.adguard-dns.com/dns-query, https://dns.nextdns.io/dns-query, https://1.1.1.1/dns-query
dns-fallback-system = false
dns-direct-system = false
ipv6 = false

# Network Bypass
bypass-tun = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
bypass-system = true

[Rule]
# ================== WHITELIST ESSENTIALS ==================
DOMAIN-SUFFIX,animevietsub.cam,DIRECT
DOMAIN-SUFFIX,animevietsub.tv,DIRECT
DOMAIN-SUFFIX,youtube.com,DIRECT
DOMAIN-SUFFIX,youtu.be,DIRECT
DOMAIN-SUFFIX,netflix.com,DIRECT
DOMAIN-SUFFIX,phimmoi.net,DIRECT
DOMAIN-SUFFIX,fptplay.vn,DIRECT
DOMAIN-SUFFIX,vtvgo.vn,DIRECT

# ================== CHẶN ADS CHO APP/WEB TRONG DANH SÁCH ==================
# Facebook
DOMAIN-SUFFIX,facebook.com,REJECT
DOMAIN-SUFFIX,fb.com,REJECT
DOMAIN-SUFFIX,fbcdn.net,REJECT
URL-REGEX,^https?://.*\.facebook\.com/.*(ad|promo|sponsor),REJECT

# Twitter
DOMAIN-SUFFIX,twitter.com,REJECT
DOMAIN-SUFFIX,twimg.com,REJECT
URL-REGEX,^https?://.*\.twitter\.com/.*/(promoted|ads),REJECT

# LinkedIn
DOMAIN-SUFFIX,linkedin.com,REJECT
DOMAIN-SUFFIX,licdn.com,REJECT
URL-REGEX,^https?://.*\.linkedin\.com/.*(ad|sponsored),REJECT

# Pinterest
DOMAIN-SUFFIX,pinterest.com,REJECT
DOMAIN-SUFFIX,pinimg.com,REJECT
URL-REGEX,^https?://.*\.pinterest\.com/.*(promoted|ad),REJECT

# Reddit
DOMAIN-SUFFIX,reddit.com,REJECT
DOMAIN-SUFFIX,redditmedia.com,REJECT
URL-REGEX,^https?://.*\.reddit\.com/.*(promoted|advertiser),REJECT

# TikTok
DOMAIN-SUFFIX,tiktok.com,REJECT
DOMAIN-SUFFIX,tiktokcdn.com,REJECT
URL-REGEX,^https?://.*\.tiktok\.com/.*(ad|promotion),REJECT

# Google Analytics
DOMAIN-SUFFIX,google-analytics.com,REJECT
DOMAIN-SUFFIX,googletagmanager.com,REJECT

# Các tool tracking khác
DOMAIN-SUFFIX,hotjar.com,REJECT
DOMAIN-SUFFIX,mouseflow.com,REJECT
DOMAIN-SUFFIX,freshworks.com,REJECT
DOMAIN-SUFFIX,luckyorange.net,REJECT
DOMAIN-SUFFIX,stats.wp.com,REJECT

# Unity Ads
DOMAIN-SUFFIX,unity3d.com,REJECT
DOMAIN-SUFFIX,unityads.unity3d.com,REJECT

# ================== ANTI-ADBLOCK NÂNG CẤP ==================
# Chặn detector kiểu mới
URL-REGEX,^https?://.*/(adb|adblock)-detector/.*\.(js|json),REJECT
DOMAIN-KEYWORD,adverification,REJECT

# Chặn fake content yêu cầu tắt adblock
URL-REGEX,^https?://.*/(please|disable)-(adblock|ublock),REJECT

# ================== CHẶN ADSTERRA NÂNG CAO ==================
DOMAIN-SUFFIX,adsterra.com,REJECT
DOMAIN-SUFFIX,adstera.com,REJECT
DOMAIN-SUFFIX,adsterra.net,REJECT
DOMAIN-SUFFIX,adstera.net,REJECT
DOMAIN-KEYWORD,adst,REJECT
DOMAIN-KEYWORD,adsterra,REJECT
URL-REGEX,^https?://([a-z0-9]+\.)?adsterr?a?\.(com|net)/.*,REJECT
URL-REGEX,^https?://.*/adsterra/.*\.(js|css|img),REJECT

# ================== CHẶN QUẢNG CÁO ANIMEVIETSUB ==================
# Domain chính
DOMAIN-SUFFIX,animevietsub.tv,DIRECT
DOMAIN-SUFFIX,animevietsub.cam,DIRECT

# Chặn CDN quảng cáo
DOMAIN-SUFFIX,cdn.animevietsub.tv,REJECT
DOMAIN-SUFFIX,ads.animevietsub.cam,REJECT
DOMAIN-SUFFIX,static.animevietsub.tv,REJECT

# Chặn theo URL pattern
URL-REGEX,^https?://(www\.)?animevietsub\.(tv|cam)/.*(banner|popup|ads|quangcao),REJECT
URL-REGEX,^https?://.*\.animevietsub\.(tv|cam)/.*\.(js|css)\?.*(ad|banner),REJECT
URL-REGEX,^https?://.*/adv/.*\.(gif|jpg|png|webp),REJECT

# Chặn các dịch vụ tracking trên site
DOMAIN-SUFFIX,analytics.animevietsub.tv,REJECT
DOMAIN-SUFFIX,stats.animevietsub.cam,REJECT

# ================== NÂNG CẤP ANTI-ADBLOCK ==================
# Chặn phát hiện adblock
DOMAIN-SUFFIX,adblock-detector.com,REJECT
DOMAIN-SUFFIX,adblockchecker.com,REJECT
DOMAIN-KEYWORD,adblockdetect,REJECT
URL-REGEX,^https?://.*/adblock.*detector.*\.js,REJECT

# Chặn bypass anti-adblock
URL-REGEX,^https?://.*/load\.php\?.*(adblock|antiadb),REJECT
URL-REGEX,^https?://.*&(adb|antiadblock)=true,REJECT

# Chặn thông báo yêu cầu tắt adblock
URL-REGEX,^https?://.*/(disable|turnoff)adblock\.(html|php),REJECT
URL-REGEX,^https?://.*/please-disable-adblocker,REJECT

# ================== CORE AD BLOCKING (Giữ nguyên) ==================
# Google Ads
DOMAIN-SUFFIX,doubleclick.net,REJECT
DOMAIN-SUFFIX,googlesyndication.com,REJECT
DOMAIN-SUFFIX,googleads.g.doubleclick.net,REJECT
DOMAIN-SUFFIX,adservice.google.com,REJECT
DOMAIN-SUFFIX,ads.youtube.com,REJECT
DOMAIN-SUFFIX,googleadsapis.com,REJECT
DOMAIN-SUFFIX,imasdk.googleapis.com,REJECT
DOMAIN-SUFFIX,vast.vpaid.com,REJECT
DOMAIN-SUFFIX,youtube-ui.l.google.com,REJECT

# Social Media Ads
DOMAIN-SUFFIX,fbcdn.net,REJECT
DOMAIN-SUFFIX,twimg.com,REJECT
DOMAIN-SUFFIX,scdn.co,REJECT
DOMAIN-SUFFIX,pxlctl.com,REJECT
DOMAIN-SUFFIX,redditmedia.com,REJECT
DOMAIN-SUFFIX,tiktokcdn.com,REJECT
DOMAIN-SUFFIX,ads.tiktok.com,REJECT
DOMAIN-SUFFIX,ads.facebook.com,REJECT
DOMAIN-SUFFIX,ads.zalo.me,REJECT

# Vietnamese Ads
DOMAIN-SUFFIX,admicro.vn,REJECT
DOMAIN-SUFFIX,ads.vn,REJECT
DOMAIN-SUFFIX,quangcao.vn,REJECT
DOMAIN-SUFFIX,vcmedia.vn,REJECT
DOMAIN-SUFFIX,log.zapps.vn,REJECT
DOMAIN-SUFFIX,ambientplatform.vn,REJECT

# Global Ad Networks
DOMAIN-SUFFIX,admob.com,REJECT
DOMAIN-SUFFIX,adcolony.com,REJECT
DOMAIN-SUFFIX,media.net,REJECT
DOMAIN-SUFFIX,amazon-adsystem.com,REJECT
DOMAIN-SUFFIX,liblockads.net,REJECT
DOMAIN-SUFFIX,adsrvr.org,REJECT
DOMAIN-SUFFIX,adnxs.com,REJECT
DOMAIN-SUFFIX,adsymptotic.com,REJECT
DOMAIN-SUFFIX,epomads.com,REJECT

# ================== TRACKER & ANALYTICS ==================
DOMAIN-SUFFIX,google-analytics.com,REJECT
DOMAIN-SUFFIX,hotjar.com,REJECT
DOMAIN-SUFFIX,mouseflow.com,REJECT
DOMAIN-SUFFIX,freshworks.com,REJECT
DOMAIN-SUFFIX,luckyorange.net,REJECT
DOMAIN-SUFFIX,stats.wp.com,REJECT
DOMAIN-SUFFIX,mixpanel.com,REJECT
DOMAIN-SUFFIX,branch.io,REJECT
DOMAIN-SUFFIX,adjust.com,REJECT
DOMAIN-SUFFIX,appsflyer.com,REJECT
DOMAIN-SUFFIX,scorecardresearch.com,REJECT
DOMAIN-SUFFIX,bugsnag.com,REJECT
DOMAIN-SUFFIX,sentry.io,REJECT

# Keyword Blocking
DOMAIN-KEYWORD,analytics,REJECT
DOMAIN-KEYWORD,adservice,REJECT
DOMAIN-KEYWORD,tracking,REJECT
DOMAIN-KEYWORD,metrics,REJECT
DOMAIN-KEYWORD,metric,REJECT
DOMAIN-KEYWORD,advert,REJECT
URL-KEYWORD,/collect,REJECT

# ================== ANTI-ADBLOCK ==================
DOMAIN-SUFFIX,blockadblock.com,REJECT
DOMAIN-SUFFIX,acceptableads.com,REJECT
DOMAIN-SUFFIX,adblockblocker.com,REJECT
DOMAIN-SUFFIX,adblockplus.org,REJECT
DOMAIN-KEYWORD,adblock,REJECT
DOMAIN-KEYWORD,antiadblock,REJECT
URL-KEYWORD,adblock-detector,REJECT
URL-REGEX,^https?://[^/]+\.(vnexpress|dantri|vtv)\.vn/.+/(ads|banner)/,REJECT
URL-REGEX,^https?://[^/]+/(adblock|antiadblock)[^/]*(\.js|\.css|\.php),REJECT
URL-REGEX,detect.*adblock,REJECT
URL-REGEX,^https?://[^/]+\.googlevideo\.com/(?!videoplayback),REJECT
URL-REGEX,^https?://[^/]+\.(youtube|netflix)\.com/.+/(ad|midroll)_,REJECT

# ================== SECURITY & PRIVACY ==================
# Block STUN servers
DOMAIN-SUFFIX,stun.l.google.com,REJECT
DOMAIN-KEYWORD,stun,REJECT

# Block tracking/malicious IPs
IP-CIDR,8.8.8.8/32,REJECT
IP-CIDR,1.1.1.1/32,REJECT
IP-CIDR6,2400:cb00::/32,REJECT,no-resolve

# Geo-blocking
GEOIP,CN,REJECT,no-resolve
GEOIP,RU,REJECT,no-resolve
GEOIP6,CN,REJECT

# ================== EXTERNAL RULE-SETS ==================
RULE-SET,https://raw.githubusercontent.com/AdguardTeam/FiltersRegistry/master/filters/filter_11_Mobile/filter.txt,REJECT
RULE-SET,https://raw.githubusercontent.com/hagezi/dns-blocklists/main/wildcard/antiadblock.txt,REJECT
RULE-SET,https://raw.githubusercontent.com/AdguardTeam/FiltersRegistry/master/filters/filter_2_Base/filter.txt,REJECT

# ================== FINAL RULE ==================
FINAL,PROXY
